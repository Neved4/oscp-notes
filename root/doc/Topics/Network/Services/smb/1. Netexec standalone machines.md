### Guest / null session

Podemos probar si la máquina permite una sesión guest o nula:

```bash
netexec smb <IP> -u '' -p ''
netexec smb <IP> -u 'guest' -p ''
```

### Enumeración de usuarios

Netexec nos permite enumerar usuarios en algunos casos, tanto en standalone machines como en entornos corporativos:

```bash
netexec smb 10.10.11.222 -u guest -p '' --rid-brute
netexec smb 10.10.11.222 -u guest -p '' --rid-brute | awk '{print $6}' | cut -d '\' -f2 | tee userlist2.txt
```

Además si tenemos un usuario que tiene permisos, podremos listar los usuarios
con su descripción de AD:

```bash
netexec smb 10.10.11.35 -u 'michael.wrightson' -p 'Cicada$M6Corpb*@Lp#nZp!8' --users
netexec ldap 10.10.11.35 -u 'michael.wrightson' -p 'Cicada$M6Corpb*@Lp#nZp!8' --users
```

### Descargar / ver carpetas y archivos SMB de forma recursiva

Para descargar archivos y carpetas de forma recursiva:

```bash
netexec smb <IP> -u 'x' -p 'y' --shares -M spider_plus -o DOWNLOAD_FLAG=True
```

Luego podríamos filtrar el resultado (buscar archivos powershell o logs):

```bash
cat /tmp/cme_spider_plus/10.10.10.248.json | jq '. | map_values(keys)' | grep -v lnk
```

O también podemos grepear en la carpeta en la que se guarde:

```bash
grep -ri 'pass' /tmp/nxc_hosted/nxc_spider_plus/<IP>/<share>
```

También podríamos usar spider sin descargar archivos:

```bash
netexec smb <IP> -u 'x' -p '' --shares --spider <carpeta> --regex .
```

### Otros protocolos

Netexec también funciona con otros protocolos como SSH:

```bash
netexec ssh <IP> -u users.txt -p pass.txt --continue-on-success
```
